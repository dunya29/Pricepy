const allModals=document.querySelectorAll(".js-modal"),checkPhoneMod=document.querySelector(".check-phoneMod"),checkPhoneModInp=document.querySelector(".check-phoneMod__code"),checkPhoneModBtn=document.querySelector(".check-phoneMod .request__btn"),successModal=document.querySelector(".success-mod"),errorModal=document.querySelector(".error-mod");function openModal(e){$(e).fadeIn(500)}function closeModal(e){$(".js-modal").fadeOut(100)}function setSuccessTxt(e=!1,o=!1){successModal.querySelector(".modal__title span").textContent=e||"Заявка отправлена",o&&(successModal.querySelector(".modal__title p").textContent=o)}function setErrorTxt(e=!1,o=!1){errorModal.querySelector(".modal__title span").textContent=e||"Что-то пошло не так",o&&(errorModal.querySelector(".modal__title p").textContent=o)}function openSuccessMod(e=!1,o=!1){setSuccessTxt(e,o),openModal(successModal)}function openErrorMod(e=!1,o=!1){setErrorTxt(e,o),openModal(errorModal)}function formSuccess(e,o=!1,t=!1){e.querySelectorAll("input").forEach((e=>{e.classList.remove("has-error"),["hidden","checkbox","radio"].includes(e.type)||(e.value="")})),openSuccessMod(o,t)}let codeResTimeout;function openCheckPhoneMod(){clearTimeout(codeResTimeout),openModal(checkPhoneMod);let e=30;document.querySelector(".check-phoneMod__codeResent").innerHTML=`Повторный запрос кода доступен через <span>${e}</span> сек.`,setTimeout((()=>{!function o(){document.querySelector(".check-phoneMod__codeResent span").textContent=e,e--,e>0?codeResTimeout=setTimeout(o,1e3):document.querySelector(".check-phoneMod__codeResent").innerHTML='<button type="button" class="check-phoneMod__resent">Отправить  новый код</button>'}()}),500)}if(allModals.length>0&&allModals.forEach((e=>{e.querySelector(".modal__content")&&e.addEventListener("click",(o=>{e.querySelector(".modal__content").contains(o.target)||closeModal(e)}))})),checkPhoneModInp){function checkVal(){0==checkPhoneModInp.value.length?checkPhoneModBtn.setAttribute("disabled",!0):checkPhoneModBtn.removeAttribute("disabled")}checkVal(),checkPhoneModInp.addEventListener("input",checkVal)}const headermobBtn=document.querySelector(".header__mobBtn");headermobBtn&&(headermobBtn.addEventListener("click",(()=>document.querySelector(".header__phones").classList.add("open"))),document.querySelector(".header__phones-close").addEventListener("click",(()=>{document.querySelector(".header__phones").classList.remove("open")})));const fixedMenu=document.querySelector(".fixed-menu");function showFixedMenu(){window.innerWidth<=991&&window.innerHeight-document.querySelector(".footer").getBoundingClientRect().bottom<=0?fixedMenu.classList.remove("unshow"):fixedMenu.classList.add("unshow")}fixedMenu&&(showFixedMenu(),window.addEventListener("resize",showFixedMenu),window.addEventListener("scroll",showFixedMenu)),window.addEventListener("resize",(()=>{window.innerWidth>991.98&&document.querySelector(".burger").classList.contains("open")&&document.querySelector(".burger").click()}));